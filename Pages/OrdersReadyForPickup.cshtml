@page
@model OrdersReadyForPickupModel
@{
    ViewData["Title"] = "Orders Ready for Pickup";
}

<head>
    <meta charset="utf-8"/>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        // Function to reload the page
        function reloadPage() {
            location.reload(true); // Reloads the page from the server
        }

        // Set interval to reload the page every 30 seconds (30000 milliseconds)
        setInterval(reloadPage, 30000);
    </script>
</head>
<h1>Orders Ready for Pickup</h1>

<table>
    <thead>
        <tr>
            <th>Order Number</th>
            <!-- Add more columns as needed -->
        </tr>
    </thead>
    <tbody>
        @foreach (var order in Model.ReadyForPickupOrders)
        {
            <tr>
                <td>@order.Order_Number</td>

                <td>
                    <form method="post" asp-page-handler="UpdateFulfilledStatus" asp-route-orderId="@order.Id">
                        <button type="submit">Mark Fulfilled</button>
                    </form>
                </td>
            </tr>
        }
    </tbody>
</table>
